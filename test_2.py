import requests

url = f"https://zipper.dataspace.copernicus.eu/odata/v1/Products(cf34f4f0-a7ff-4e65-a730-1f6f02a04cc8)/$value"
access_token = "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJYVUh3VWZKaHVDVWo0X3k4ZF8xM0hxWXBYMFdwdDd2anhob2FPLUxzREZFIn0.eyJleHAiOjE3MDQ5NjMzMzIsImlhdCI6MTcwNDk2MjczMiwianRpIjoiYWJmMzBhNjQtZjQzZi00NjFhLThhNjEtOTA4YzhmZTFmMzYyIiwiaXNzIjoiaHR0cHM6Ly9pZGVudGl0eS5kYXRhc3BhY2UuY29wZXJuaWN1cy5ldS9hdXRoL3JlYWxtcy9DRFNFIiwiYXVkIjpbIkNMT1VERkVSUk9fUFVCTElDIiwiYWNjb3VudCJdLCJzdWIiOiIzODJjY2I5ZS03ZDMxLTQxNjktYjJmYi03NWVkY2E1YzJkYjYiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJjZHNlLXB1YmxpYyIsInNlc3Npb25fc3RhdGUiOiJiYzYyNmNhMC1lNDlkLTRiNGMtYmNjNC0wZTZiMDcyMTFjNjgiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDIwMCIsIioiLCJodHRwczovL3dvcmtzcGFjZS5zdGFnaW5nLWNkc2UtZGF0YS1leHBsb3Jlci5hcHBzLnN0YWdpbmcuaW50cmEuY2xvdWRmZXJyby5jb20iXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJkZWZhdWx0LXJvbGVzLWNkYXMiLCJjb3Blcm5pY3VzLWdlbmVyYWwiXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6IkFVRElFTkNFX1BVQkxJQyBvcGVuaWQgZW1haWwgcHJvZmlsZSBvbmRlbWFuZF9wcm9jZXNzaW5nIHVzZXItY29udGV4dCIsInNpZCI6ImJjNjI2Y2EwLWU0OWQtNGI0Yy1iY2M0LTBlNmIwNzIxMWM2OCIsImdyb3VwX21lbWJlcnNoaXAiOlsiL2FjY2Vzc19ncm91cHMvdXNlcl90eXBvbG9neS9jb3Blcm5pY3VzX2dlbmVyYWwiLCIvb3JnYW5pemF0aW9ucy9kZWZhdWx0LTM4MmNjYjllLTdkMzEtNDE2OS1iMmZiLTc1ZWRjYTVjMmRiNi9yZWd1bGFyX3VzZXIiXSwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiJBbmRyZWEgTGF0dGFydW9sbyIsIm9yZ2FuaXphdGlvbnMiOlsiZGVmYXVsdC0zODJjY2I5ZS03ZDMxLTQxNjktYjJmYi03NWVkY2E1YzJkYjYiXSwidXNlcl9jb250ZXh0X2lkIjoiNjA3ZDczMDQtZWVmYi00MzA4LThkMTMtOTI4MjI2ZDRmNWI4IiwiY29udGV4dF9yb2xlcyI6e30sImNvbnRleHRfZ3JvdXBzIjpbIi9hY2Nlc3NfZ3JvdXBzL3VzZXJfdHlwb2xvZ3kvY29wZXJuaWN1c19nZW5lcmFsLyIsIi9vcmdhbml6YXRpb25zL2RlZmF1bHQtMzgyY2NiOWUtN2QzMS00MTY5LWIyZmItNzVlZGNhNWMyZGI2L3JlZ3VsYXJfdXNlci8iXSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWxhdHRhcnVvbG9AZmJrLmV1IiwiZ2l2ZW5fbmFtZSI6IkFuZHJlYSIsImZhbWlseV9uYW1lIjoiTGF0dGFydW9sbyIsInVzZXJfY29udGV4dCI6ImRlZmF1bHQtMzgyY2NiOWUtN2QzMS00MTY5LWIyZmItNzVlZGNhNWMyZGI2IiwiZW1haWwiOiJhbGF0dGFydW9sb0BmYmsuZXUifQ.O3rzcTV6WTmOXqp5oa1wyUOUR93aWyMXOG5stejLVoNwtDPIZvaLNHampIX0v73TJ_HgZSCn_u-Re-_eNBsJEYzy1ffTRL8manhu_P61z4Q_-cq1cWzydvoP0MU9lu2bp8ApzcLIyOuFt2BksG6F5xQ87ghcDKNmiq10BvDxP_wHDcrVj1587s8FatE-ZqSXypbqO9yXApApJiorRFI7uCqxJyzrOa2YjN1Tb4WjXJU2p_RL1YFw6ELA0gOQtbfVXhraIsun2kWSdiGxFI-3HOtNkC4YgNTRxg_NcBefIEay8gx7GSDjN9Fk6yVjuN1xJ48pgdi3lllykurYaaSywQ"
headers = {"Authorization": f"Bearer {access_token}","Range": "bytes={}-".format(6377439232)} #6377439232
headers = {"Authorization": f"Bearer {access_token}"}
# session = requests.Session()
# session.headers.update(headers)
with requests.get(url, headers=headers, stream=True) as response:
    with open("/media/dsl/1A2226C62D41B5A2/donwload_data/try_script/bau/product.zip", "wb") as file:
        for chunk in response.iter_content(chunk_size=8192):
            if chunk:
                file.write(chunk)